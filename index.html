<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>主页</title>
  <link rel="shortcut icon" type="image/ico" href="favicon.ico">
  <link rel="stylesheet" href="https://dataechoui.pages.dev/DataEchoUI.css">
  <script src="https://dataechoui.pages.dev/DataEchoUI.js"></script>
  <link href="https://unpkg.com/qweather-icons@1.6.0/font/qweather-icons.css" rel="stylesheet">
  <style>
    body {
      background: url('https://xiaofeishu-picture2.pages.dev/picture/3x-00081-1182210180.webp');
      background-size: cover;
      background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
      /* 背景图片 */
    }
    .DataEchoUI-card {
      backdrop-filter: blur(3px);
    }
  </style>
</head>

<body>
  <div class="DataEchoUI-navbar">
    <div class="logo">小废鼠主页</div>
    <div class="DataEchoUI-navbar-links">
      <a class="DataEchoUI-highlight-1" href="index.html">主页</a>
      <a href="1.html">其他</a>
    </div>
    <div class="filler"></div>
  </div>
  <div id="DataEchoUI-navbar-left-31" style="width: 35%;backdrop-filter: blur(3px);">
    <h1 style="height: 30%;">欢迎来到小废鼠主页</h1>
  </div>
  <div class="DataEchoUI-card">
    <h2>时间</h2>
    <p>本地时间：<span id="clock"></span></p>
    <p>距离6月17日还有 <span id="timeLeft"></span></p>
    <p><div id="ys">原神好句正在加载...</div></p>
  </div>
  <div class="DataEchoUI-card">
    <h2>天气</h2>
    <div id="weather-info">天气API正在加载</div>
  </div>
  <div class="DataEchoUI-card">
    <h2>关于</h2>
    <p>作者：没用的小废鼠</p>
    <p>APi提供:</p>
    <p>没用的小废鼠（原神好句api）</p>
    <p>oiapi（天气api）</p>
  </div>
  <script>
    function yshj() {
      fetch('https://unpkg.com/genshin-good-words/Good-words.txt')
      .then(response => response.text())
      .then(data => {
      const lines = data.split('\n');
      const randomLine = lines[Math.floor(Math.random() * lines.length)];
      document.getElementById('ys').innerText = randomLine;
    })
    .catch(error => {
      console.error('Error fetching ys:', error);
    });
    }
yshj()

function getWeather() {
      var cityCode = "101210705";
      var url = "https://oiapi.net/API/weather?city=" + cityCode;
      
      fetch(url)
        .then(response => response.json())
        .then(data => {
          const weatherInfo = data.data;
          const weatherElement = document.getElementById('weather-info');
            weatherElement.innerHTML = `
              <p>城市: ${weatherInfo.data.city} </p>
              <p>数据时间：${weatherInfo.data.current.date} ${weatherInfo.data.current.time} </p>
              <p>天气: ${weatherInfo.data.weather} <img src="${weatherInfo.data.current.image}" style='width:32px;'></p>
              <p>温度: ${weatherInfo.data.current.temp}°C</p>
        `;
        })
        .catch(error => {
          console.error('Error fetching weather data:', error);
        });
    }
    getWeather()
    setInterval(getWeather, 60 * 60 * 1000);
</script>
<script>
  function updateTime() {
    // 获取今天的日期
    var today = new Date();
  
    // 设置目标日期为6月17日
    var targetDate = new Date(today.getFullYear(), 5, 17); // 月份从0开始，所以5代表6月
  
    // 如果目标日期已经过去，则将目标日期设置为明年的6月17日
    if (today.getTime() > targetDate.getTime()) {
      targetDate.setFullYear(targetDate.getFullYear() + 1);
    }
  
    // 计算距离目标日期的时间
    var timeDiff = targetDate.getTime() - today.getTime();
    var daysLeft = Math.floor(timeDiff / (1000 * 3600 * 24));
    timeDiff -= daysLeft * (1000 * 3600 * 24);
    var hoursLeft = Math.floor(timeDiff / (1000 * 3600));
    timeDiff -= hoursLeft * (1000 * 3600);
    var minutesLeft = Math.floor(timeDiff / (1000 * 60));
    timeDiff -= minutesLeft * (1000 * 60);
    var secondsLeft = Math.floor(timeDiff / 1000);
  
    // 更新页面上的时间显示
    document.getElementById("timeLeft").textContent = daysLeft + "天 " + hoursLeft + "小时 " + minutesLeft + "分钟 " + secondsLeft + "秒";
  }
  
  // 每秒更新一次时间
  setInterval(updateTime, 1000);
  
  // 页面加载时立即更新时间
  updateTime();
  </script>
  <script>
    function updateClock() {
      var now = new Date();
      var hours = now.getHours();
      var minutes = now.getMinutes();
      var seconds = now.getSeconds();

      hours = hours < 10 ? "0" + hours : hours;
      minutes = minutes < 10 ? "0" + minutes : minutes;
      seconds = seconds < 10 ? "0" + seconds : seconds;

      var time = hours + ":" + minutes + ":" + seconds;
      document.getElementById("clock").textContent = time;
    }

    setInterval(updateClock, 1000); // 每秒更新一次时钟
  </script>
</body>

</html>